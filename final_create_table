-- Exported from QuickDBD: https://www.quickdatabasediagrams.com/
-- NOTE! If you have used non-SQL datatypes in your design, you will have to change these here.


CREATE TABLE "Boroughs" (
    "boroughID" int,
    "borough" VARCHAR,
    CONSTRAINT "pk_Boroughs" PRIMARY KEY (
        "boroughID"
     )
);

CREATE TABLE "Zipcode" (
    "zipcodeID" serial,
    "zipcode" varchar,
    CONSTRAINT "pk_Zipcode" PRIMARY KEY (
        "zipcodeID"
     )
);

CREATE TABLE "Complaints" (
    "unique_key" int,
    "created_date" VARCHAR,
    "closed_date" VARCHAR,
    "agency" VARCHAR,
    "agency_name" VARCHAR,
    "complaint_type" VARCHAR,
    "descriptor" VARCHAR,
    "zipcodeID" int,
    "cross_street_1" VARCHAR,
    "cross_street_2" VARCHAR,
    "city" VARCHAR,
    "resolution_description" VARCHAR,
    "updated_date" VARCHAR,
    "community_board" VARCHAR,
    "boroughID" int,
    "channel" VARCHAR,
    "latitude" float,
    "longitude" float,
    "location" VARCHAR,
    "location_type" VARCHAR,
    "incident_address" VARCHAR,
    "street_name" VARCHAR,
    CONSTRAINT "pk_Complaints" PRIMARY KEY (
        "unique_key"
     )
);

CREATE TABLE "Subway" (
    "stationID" int,
    "stationname" varchar,
    "address" varchar,
    "zipcodeID" int,
    "line" varchar,
    CONSTRAINT "pk_Subway" PRIMARY KEY (
        "stationID"
     )
);

CREATE TABLE "Housing" (
    "housing_id" Serial,
    "address" varchar,
    "building_name" varchar,
    "neighborhood" varchar,
    "boroughID" int,
    "ppsf" float,
    "bed" int,
    "full_bath" int,
    "half_bath" int,
    "sq_ft" int,
    "property_type" varchar,
    "days_on_market" int,
    "listed_date" varchar,
    "listed_price" float,
    "sold_price" float,
    "sold_date" varchar,
    "zipcodeID" int,
    "year_built" int,
    CONSTRAINT "pk_Housing" PRIMARY KEY (
        "housing_id"
     )
);

ALTER TABLE "Complaints" ADD CONSTRAINT "fk_Complaints_zipcodeID" FOREIGN KEY("zipcodeID")
REFERENCES "Zipcode" ("zipcodeID");

ALTER TABLE "Complaints" ADD CONSTRAINT "fk_Complaints_boroughID" FOREIGN KEY("boroughID")
REFERENCES "Boroughs" ("boroughID");

ALTER TABLE "Subway" ADD CONSTRAINT "fk_Subway_zipcodeID" FOREIGN KEY("zipcodeID")
REFERENCES "Zipcode" ("zipcodeID");

ALTER TABLE "Housing" ADD CONSTRAINT "fk_Housing_boroughID" FOREIGN KEY("boroughID")
REFERENCES "Boroughs" ("boroughID");

ALTER TABLE "Housing" ADD CONSTRAINT "fk_Housing_zipcodeID" FOREIGN KEY("zipcodeID")
REFERENCES "Zipcode" ("zipcodeID");

